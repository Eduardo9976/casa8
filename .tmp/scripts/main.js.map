{"version":3,"sources":["main.js"],"names":["HandlePopUp","open","popUp","document","querySelector","close","handleClick","bind","addEventListener","e","preventDefault","classList","toggle","addEvents","HandleFlip","flipContainer","flips","querySelectorAll","addClass","forEach","flip","currentTarget","contains","add","removeEventListener","handleEvent","VirtualTour","buttonsOpen","tourContainer","buttonClose","heightClose","getClientRects","height","windowHeight","window","innerHeight","setHeightViewer","button","remove","baseHeight","style","handleEvents","init","virtualTour","viewer","PhotoSphereViewer","Viewer","container","panorama","defaultLat","mousewheelCtrlKey","navbar","onload","flipperContainer","baseFlip","clientHeight","onresize","onscroll","menuFixo","sections","position","top","facilidadesOpacity","elementsFacilidades","facilidadesPosition","mid","total","length","el","index"],"mappings":"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","sourcesContent":["class HandlePopUp {\r\n  constructor (open, popUp) {\r\n    this.open = document.querySelector(open)\r\n    this.popUp = document.querySelector(popUp)\r\n    this.close = document.querySelector(popUp + ' .close')\r\n    this.handleClick = this.handleClick.bind(this)\r\n  }\r\n\r\n  addEvents () {\r\n    this.open.addEventListener('click', this.handleClick)\r\n    this.close.addEventListener('click', this.handleClick)\r\n  }\r\n\r\n  handleClick (e) {\r\n    e.preventDefault()\r\n    this.popUp.classList.toggle('active')\r\n  }\r\n\r\n  init () {\r\n    if (this.open && this.popUp && this.close) {\r\n      this.addEvents()\r\n    }\r\n  }\r\n}\r\n\r\nclass HandleFlip {\r\n  constructor (flipContainer) {\r\n    this.flips = document.querySelectorAll(flipContainer)\r\n    this.addClass = this.addClass.bind(this)\r\n  }\r\n\r\n  handleEvent () {\r\n    this.flips.forEach(flip => {\r\n      flip.addEventListener('click', this.addClass)\r\n    })\r\n  }\r\n\r\n  addClass (e) {\r\n    !e.currentTarget.classList.contains('active') &&\r\n      e.currentTarget.classList.add('active')\r\n    e.currentTarget.removeEventListener('click', this.addClass)\r\n  }\r\n\r\n  init () {\r\n    this.flips && this.handleEvent()\r\n    return\r\n  }\r\n}\r\n\r\nclass VirtualTour {\r\n  constructor () {\r\n    this.buttonsOpen = document.querySelectorAll('.tourVirtual')\r\n    this.tourContainer = document.querySelector('.tourContainer')\r\n    this.buttonClose = document.querySelector('.tourContainer .close')\r\n    this.heightClose = this.buttonClose.getClientRects()[0].height\r\n    this.windowHeight = window.innerHeight\r\n    this.setHeightViewer = document.querySelector('#viewer')\r\n  }\r\n\r\n  handleEvents () {\r\n    this.buttonsOpen.forEach(button =>\r\n      button.addEventListener('click', () =>\r\n        this.tourContainer.classList.add('active')\r\n      )\r\n    )\r\n\r\n    this.buttonClose.addEventListener('click', () =>\r\n      this.tourContainer.classList.remove('active')\r\n    )\r\n  }\r\n\r\n  init () {\r\n    const baseHeight = this.windowHeight - this.heightClose - 40\r\n    this.setHeightViewer.style.height = `${baseHeight}px`\r\n    this.handleEvents()\r\n  }\r\n}\r\n\r\n//funcoes do DOM\r\n\r\n;(function () {\r\n  const popUp = new HandlePopUp('.open', '.pop-up').init()\r\n\r\n  const flip = new HandleFlip('.flip-container').init()\r\n\r\n  const virtualTour = new VirtualTour().init()\r\n\r\n  const viewer = new PhotoSphereViewer.Viewer({\r\n    container: document.querySelector('#viewer'),\r\n    panorama: '../images/tourVirtual/pano.jpg',\r\n    defaultLat: 0.9,\r\n    // touchmoveTwoFingers: true,\r\n    mousewheelCtrlKey: true,\r\n    navbar: ['fullscreen', 'zoom', 'autorotate', 'move', 'zoomOut', 'zoomIn']\r\n  })\r\n\r\n  // height flip\r\n  window.onload = function () {\r\n    const flipperContainer = document.querySelectorAll('.flip-container')\r\n    const baseFlip = document.querySelector('.flipper img').clientHeight\r\n\r\n    flipperContainer.forEach(container => {\r\n      container.style.height = `${baseFlip}px`\r\n    })\r\n  }\r\n\r\n  window.onresize = function () {\r\n    const flipperContainer = document.querySelectorAll('.flip-container')\r\n    const baseFlip = document.querySelector('.flipper img').clientHeight\r\n\r\n    flipperContainer.forEach(container => {\r\n      container.style.height = `${baseFlip}px`\r\n    })\r\n  }\r\n\r\n  window.onscroll = function (e) {\r\n    e.preventDefault()\r\n    const menuFixo = document.querySelector('.menuFixo')\r\n    const sections = document.querySelectorAll('section')\r\n    const position = sections[1].getClientRects()[0].top\r\n    if (position > 0) {\r\n      menuFixo.classList.contains('active') &&\r\n        menuFixo.classList.remove('active')\r\n    } else {\r\n      !menuFixo.classList.contains('active') && menuFixo.classList.add('active')\r\n    }\r\n\r\n    // animacao facilidades de compra\r\n    const facilidadesOpacity = document.querySelector('.facilidadesDeCompra')\r\n    const elementsFacilidades = document.querySelectorAll('.facilidades p')\r\n    const facilidadesPosition = facilidadesOpacity.getClientRects()[0].top\r\n    const mid = window.innerHeight * 0.5\r\n    const total = elementsFacilidades.length - 1\r\n\r\n    if (\r\n      facilidadesPosition < mid &&\r\n      !elementsFacilidades[total].classList.contains('show')\r\n    ) {\r\n      elementsFacilidades.forEach((el, index) => {\r\n        el.style['animation-delay'] = `${index / 2}s`\r\n        !el.classList.contains('show') && el.classList.add('show')\r\n      })\r\n    }\r\n    return\r\n  }\r\n})()\r\n"],"file":"main.js"}