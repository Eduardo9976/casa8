{"version":3,"sources":["main.js"],"names":["HandlePopUp","open","popUp","document","querySelector","close","handleClick","bind","addEventListener","e","preventDefault","classList","toggle","addEvents","VirtualTour","buttonsOpen","querySelectorAll","tourContainer","buttonClose","heightClose","getClientRects","height","windowHeight","window","innerHeight","setHeightViewer","forEach","button","add","remove","baseHeight","style","handleEvents","init","virtualTour","viewer","PhotoSphereViewer","Viewer","container","panorama","defaultLat","mousewheelCtrlKey","navbar","onload","flipperContainer","baseFlip","clientHeight","onresize","onscroll","menuFixo","sections","position","top","contains","facilidadesOpacity","elementsFacilidades","facilidadesPosition","mid","total","length","el","index"],"mappings":"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","sourcesContent":["class HandlePopUp {\r\n  constructor (open, popUp) {\r\n    this.open = document.querySelector(open)\r\n    this.popUp = document.querySelector(popUp)\r\n    this.close = document.querySelector(popUp + ' .close')\r\n    this.handleClick = this.handleClick.bind(this)\r\n  }\r\n\r\n  addEvents () {\r\n    this.open.addEventListener('click', this.handleClick)\r\n    this.close.addEventListener('click', this.handleClick)\r\n  }\r\n\r\n  handleClick (e) {\r\n    e.preventDefault()\r\n    this.popUp.classList.toggle('active')\r\n  }\r\n\r\n  init () {\r\n    if (this.open && this.popUp && this.close) {\r\n      this.addEvents()\r\n    }\r\n  }\r\n}\r\n\r\nclass VirtualTour {\r\n  constructor () {\r\n    this.buttonsOpen = document.querySelectorAll('.tourVirtual')\r\n    this.tourContainer = document.querySelector('.tourContainer')\r\n    this.buttonClose = document.querySelector('.tourContainer .close')\r\n    this.heightClose = this.buttonClose.getClientRects()[0].height\r\n    this.windowHeight = window.innerHeight\r\n    this.setHeightViewer = document.querySelector('#viewer')\r\n  }\r\n\r\n  handleEvents () {\r\n    this.buttonsOpen.forEach(button =>\r\n      button.addEventListener('click', () =>\r\n        this.tourContainer.classList.add('active')\r\n      )\r\n    )\r\n\r\n    this.buttonClose.addEventListener('click', () =>\r\n      this.tourContainer.classList.remove('active')\r\n    )\r\n  }\r\n\r\n  init () {\r\n    const baseHeight = (this.windowHeight - this.heightClose) - 40\r\n    this.setHeightViewer.style.height = `${ baseHeight }px`\r\n    this.handleEvents()\r\n  }\r\n}\r\n\r\n//funcoes do DOM\r\n\r\n;(function () {\r\n  const popUp = new HandlePopUp('.open', '.pop-up').init()\r\n  const virtualTour = new VirtualTour().init()\r\n  const viewer = new PhotoSphereViewer.Viewer({\r\n    container: document.querySelector('#viewer'),\r\n    panorama: '../images/tourVirtual/pano.jpg',\r\n    defaultLat: 0.9,\r\n    // touchmoveTwoFingers: true,\r\n    mousewheelCtrlKey: true,\r\n    navbar: ['fullscreen', 'zoom', 'autorotate', 'move', 'zoomOut', 'zoomIn']\r\n  })\r\n\r\n  \r\n  // height flip\r\n  window.onload = function () {\r\n    const flipperContainer = document.querySelectorAll('.flip-container')\r\n    const baseFlip = document.querySelector('.flipper img').clientHeight\r\n\r\n    flipperContainer.forEach(container => {\r\n      container.style.height = `${baseFlip}px`\r\n    })\r\n  }\r\n\r\n  window.onresize = function () {\r\n    const flipperContainer = document.querySelectorAll('.flip-container')\r\n    const baseFlip = document.querySelector('.flipper img').clientHeight\r\n\r\n    flipperContainer.forEach(container => {\r\n      container.style.height = `${baseFlip}px`\r\n    })\r\n  }\r\n\r\n  window.onscroll = function (e) {\r\n    e.preventDefault()\r\n    const menuFixo = document.querySelector('.menuFixo')\r\n    const sections = document.querySelectorAll('section')\r\n    const position = sections[1].getClientRects()[0].top\r\n    if (position > 0) {\r\n      menuFixo.classList.contains('active') &&\r\n        menuFixo.classList.remove('active')\r\n    } else {\r\n      !menuFixo.classList.contains('active') && menuFixo.classList.add('active')\r\n    }\r\n\r\n    // animacao facilidades de compra\r\n    const facilidadesOpacity = document.querySelector('.facilidadesDeCompra')\r\n    const elementsFacilidades = document.querySelectorAll('.facilidades p')\r\n    const facilidadesPosition = facilidadesOpacity.getClientRects()[0].top\r\n    const mid = window.innerHeight * 0.5\r\n    const total = elementsFacilidades.length - 1\r\n\r\n    if (\r\n      facilidadesPosition < mid &&\r\n      !elementsFacilidades[total].classList.contains('show')\r\n    ) {\r\n      elementsFacilidades.forEach((el, index) => {\r\n        el.style['animation-delay'] = `${index / 2}s`\r\n        !el.classList.contains('show') && el.classList.add('show')\r\n      })\r\n    }\r\n    return\r\n  }\r\n})()\r\n"],"file":"main.js"}